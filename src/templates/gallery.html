{% extends 'base.html' %}

{% block content %}
  {% include 'includes/movie_count.html' %}
  <div class="row">
    <div class="col-sm-12">
      {% if anothers_account %}
        <a class="btn btn-secondary" href="{% url 'list' anothers_account.username list %}">{% trans 'List' %}</a>
      {% else %}
        <a class="btn btn-secondary" href="{% url 'list' list %}">{% trans 'List' %}</a>
      {% endif %}
    </div>
  </div>
  <br>
  <div class="row">
    <div class="col-sm-12">
      <div class="btn-group btn-group-toggle" data-toggle="buttons">
        <label class="btn btn-secondary {% if list == 'watched' %} active {% endif %}"
               title="{% trans 'Watched' %}"
          {% if anothers_account %}
               @click="openUrl('{% url 'gallery' anothers_account.username 'watched' %}')"
          {% else %}
               @click="openUrl('{% url 'gallery' 'watched' %}')"
          {% endif %}
        >
          <input type="radio" {% if list == 'watched' %} checked {% endif %}>{% trans 'Watched' %}
        </label>
        <label class="btn btn-secondary {% if list == 'to-watch' %} active {% endif %}"
               title="{% trans 'To Watch' %}"
          {% if anothers_account %}
               @click="openUrl('{% url 'gallery' anothers_account.username 'to-watch' %}')"
          {% else %}
               @click="openUrl('{% url 'gallery' 'to-watch' %}')"
          {% endif %}
        >
          <input type="radio" {% if list == 'to-watch' %} checked {% endif %}>{% trans 'To Watch' %}
        </label>
      </div>
    </div>
  </div>
  <br>
  <br>
  <br>
  <div>
    {% for record in records %}
      <img src="{{ record.movie.poster_normal }}" data-rjs="{{ record.movie.poster_big }}"
           alt="{{ record.movie.title }}" class="gallery-poster" title="{{ record.movie.title_original }}" loading="lazy"/>
    {% endfor %}
  </div>
{% endblock %}

{% block js %}
  <script src="{% static 'js/gallery.js' %}"></script>
{% endblock %}
